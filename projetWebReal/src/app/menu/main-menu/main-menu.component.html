<!-- main-layout.component.html -->

<mat-toolbar color="primary">
  <div class="toolbar-left">
    <span>Atelier</span>
  </div>
  <div class="toolbar-right">
    <button *ngIf="!getLogged()" mat-button routerLink="/showArticles">Mes Articles</button>

    <!-- Show login button if showButtons is true -->
    <button mat-button *ngIf="getLogged()" routerLink="/login">Connexion</button>

    <!-- Show create account button if showButtons is true -->
    <button mat-button *ngIf="getLogged()" routerLink="/signup">Création de Compte</button>

    <button mat-button *ngIf="!getLogged()" (click)="logout()">Déconnexion</button>
  </div>
</mat-toolbar>

<div class="main-content">
  <mat-card class="message-area mat-elevation-z2">
    <mat-card-content class="articles-container">
      <app-articles
        *ngFor="let article of articles"
        [_id]="article._id"
        [title]="article.title"
        [content]="article.content"
        [createdAt]="formatTimeSinceCreation(article.date)"
        (ArticleEvent)="handleArticleEvent($event)"
      ></app-articles>
    </mat-card-content>
  </mat-card>
</div>


